var disable_modal_centering=false;(function(e){e(".mmt[data-reveal-id]").live("click",function(t){if(jQuery(this).data("modal_centering")=="true"){disable_modal_centering=true}if(e(t).parents(".mmt").data("enable_modal")=="false")return;t.preventDefault();var n=e(this).attr("data-reveal-id");e("#"+n).reveal(e(this).data())});e.fn.reveal=function(t){var n={animation:"fadeAndPop",animationspeed:300,closeonbackgroundclick:true,dismissmodalclass:"close-reveal-modal"};var t=e.extend({},n,t);return this.each(function(){function n(){u=false}function r(){u=true}var i=e(this),s=parseInt(i.css("top")),o=i.height()+s,u=false,a=e(".reveal-modal-bg");if(a.length==0){a=e('<div class="reveal-modal-bg" />').insertAfter(i)}i.bind("reveal:open",function(){a.unbind("click.modalEvent");e("."+t.dismissmodalclass).unbind("click.modalEvent");if(!u){r();if(t.animation=="fadeAndPop"){i.css({top:e(document).scrollTop()-o,opacity:0,visibility:"visible"});a.fadeIn(t.animationspeed/2);i.delay(t.animationspeed/2).animate({top:e(document).scrollTop()+s+"px",opacity:1},t.animationspeed,n())}if(t.animation=="fade"){i.css({opacity:0,visibility:"visible",top:e(document).scrollTop()+s});a.fadeIn(t.animationspeed/2);i.delay(t.animationspeed/2).animate({opacity:1},t.animationspeed,n())}if(t.animation=="none"){i.css({visibility:"visible",top:e(document).scrollTop()+s});a.css({display:"block"});n()}}i.unbind("reveal:open")});i.bind("reveal:close",function(){if(!u){r();if(t.animation=="fadeAndPop"){a.delay(t.animationspeed).fadeOut(t.animationspeed);i.animate({top:e(document).scrollTop()-o+"px",opacity:0},t.animationspeed/2,function(){i.css({top:s,opacity:1,visibility:"hidden"});n()})}if(t.animation=="fade"){a.delay(t.animationspeed).fadeOut(t.animationspeed);i.animate({opacity:0},t.animationspeed,function(){i.css({opacity:1,visibility:"hidden",top:s});n()})}if(t.animation=="none"){i.css({visibility:"hidden",top:s});a.css({display:"none"})}}i.unbind("reveal:close")});i.trigger("reveal:open");var f=e("."+t.dismissmodalclass).bind("click.modalEvent",function(){i.trigger("reveal:close")});if(t.closeonbackgroundclick){a.css({cursor:"pointer"});a.bind("click.modalEvent",function(){i.trigger("reveal:close")})}e("body").keyup(function(e){if(e.which===27){i.trigger("reveal:close")}})})}})(jQuery);(function(e){"use strict";function r(){var t=0;var n=0;var r=0;e(".mmt_container>.mmt_row").each(function(i,s){if(e(".mmt_container").data("align")!="center")return;n=0;t=e(this).innerWidth();e(this).children(".mmt").each(function(t,r){n=n+e(this).outerWidth()});if(t<n||e(".mmt").css("float")!="left"){r=""}else{r=(t-n)/2}e(this).children(".mmt").animate({left:r},300)})}function i(){if(disable_modal_centering){return}var n=0;var r=0;var i=0;var s=0;r=e(".mmt_container .reveal-modal").outerWidth();n=e(window).width();s=(n-r)/2;i=e(".mmt_container .reveal-modal").offset().left;e(".mmt_container .reveal-modal").animate({left:s},300);if(t==true){console.log("window width:"+n);console.log("modal width:"+r);console.log("current margin left:"+i);console.log("expected margin left:"+s)}}var t=false;var n=function(){var e={};return function(t,n,r){if(!r){r="mmt_uniqueID"}if(e[r]){clearTimeout(e[r])}e[r]=setTimeout(t,n)}}();e(document).ready(function(){var s=0;if(e(".mmt_container").data("debug")==true){t=true}if(e(".mmt_container").length>0){r();i();e(window).resize(function(){n(function(){r();i()},200,"mmt_unique")})}e(".mmt").each(function(){e(this).css("cursor","pointer")})})})(jQuery)